---
id: a5aa2069-3490-4119-a5dc-e0812be0d407
title: 使用 v-for ，删除列表中的一项后，视图渲染出错
createTime: 2020-02-11
updateTime: 2020-02-11
categories: vue
tags: 
description: 
---
## 问题描述
使用 v-for 渲染列表， 用 index 作为 key

```html

<tr v-for="(item,index) in list" :key="index">
     <td>{{item.label}}</td>
     <td>
         <input type="button" value="删除" @click="do_delete(index)">
     </td>
 </tr>
```

![在这里插入图片描述](..\post-assets\1ca82da7-3beb-4e46-a568-77264418299d.png)
删除其中一项后，视图渲染出错

## 2 原因
在渲染页面时，vue 通过 key 来识别 DOM 元素，所以要**保证每一项的 key 是唯一的，而且不会变**。

删除列表中的某一项，会导致后面的项的 index 发生变化（全部减一）。所以**不能用 index 作为 key**。



